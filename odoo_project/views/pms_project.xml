<?xml version="1.0" encoding="utf-8"?>
<odoo>

<!--项目团队-->
    <record id="pms_project_team_tree_view" model="ir.ui.view">
        <field name="name">项目团队</field>
        <field name="model">pms.project.team</field>
        <field name="arch" type="xml">
            <tree>
                <field name="sequence" groups="base.group_no_one" widget="handle"/>
                <field name="name"/>
                <field name="user_ids"/>
                <field name="description"/>
                <field name="company_id"/>
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="pms_project_team_form_view">
        <field name="name">项目团队</field>
        <field name="model">pms.project.team</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group col="2">
                        <group>
                            <field name="name"/>
                            <field name="user_ids" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True, 'no_open': True}"/>
                        </group>
                        <group>
                            <field name="company_id" options="{'no_create_edit': True}"/>
                        </group>
                    </group>
                    <group string="备注">
                        <field name="description" nolabel="1"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="pms_project_team_action" model="ir.actions.act_window">
        <field name="name">项目团队</field>
        <field name="res_model">pms.project.team</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem name="项目团队" id="pms_project_team_menu" parent="project_config_menu" sequence="1"
              action="pms_project_team_action" groups="group_manage"/>

<!--任务类型-->
    <record id="pms_project_task_type_tree_view" model="ir.ui.view">
        <field name="name">任务类型</field>
        <field name="model">pms.project.task.type</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="sequence" groups="base.group_no_one" widget="handle"/>
                <field name="name"/>
                <field name="company_id"/>
            </tree>
        </field>
    </record>

    <record id="pms_project_task_type_action" model="ir.actions.act_window">
        <field name="name">任务类型</field>
        <field name="res_model">pms.project.task.type</field>
        <field name="view_mode">tree</field>
    </record>

    <menuitem name="任务类型" id="pms_project_task_type_menu" parent="project_config_menu" sequence="3"
              action="pms_project_task_type_action" groups="group_manage"/>

<!--项目-->
<!--    <record id="pms_project_project_tree_view" model="ir.ui.view">-->
<!--        <field name="name">项目</field>-->
<!--        <field name="model">pms.project.project</field>-->
<!--        <field name="arch" type="xml">-->
<!--            <tree default_order="id desc" decoration-success="state == 'processing'" decoration-info="state == 'started'" decoration-danger="state == 'suspended'" decoration-muted="state == 'closed'">-->
<!--                <field name="name"/>-->
<!--                <field name="code"/>-->
<!--                <field name="start_date"/>-->
<!--                <field name="end_date"/>-->
<!--                <field name="product_ids"/>-->
<!--                <field name="project_type"/>-->
<!--                <field name="state"/>-->
<!--                <field name="company_id"/>-->
<!--            </tree>-->
<!--        </field>-->
<!--    </record>-->

<!--    <record id="pms_project_project_form_view" model="ir.ui.view">-->
<!--        <field name="name">项目</field>-->
<!--        <field name="model">pms.project.project</field>-->
<!--        <field name="arch" type="xml">-->
<!--            <form>-->
<!--                <header>-->
<!--                    <field name="state" widget="statusbar" options="{'clickable': '1'}"/>-->
<!--                </header>-->
<!--                <sheet>-->
<!--                    <div class="oe_button_box" name="button_box">-->
<!--                        <button name="attachment_image_preview" type="object" class="oe_stat_button" icon="fa-file-word-o">-->
<!--                            <field name="attachment_number" widget="statinfo"/>-->
<!--                        </button>-->
<!--                    </div>-->
<!--                    <div class="oe_title" name="title">-->
<!--                        <label for="name" class="oe_edit_only"/>-->
<!--                        <h2>-->
<!--                            <field name="name"/>-->
<!--                        </h2>-->
<!--                    </div>-->
<!--                    <group col="2">-->
<!--                        <group>-->
<!--                            <field name="code"/>-->
<!--                            <field name="start_date" widget="date"/>-->
<!--                            <field name="end_date" widget="date"/>-->
<!--                            <field name="work_days"/>-->
<!--                        </group>-->
<!--                    </group>-->
<!--                    <notebook>-->
<!--                        <page string="项目信息">-->
<!--                            <group col="2">-->
<!--                                <group>-->
<!--                                    <field name="team_id" options="{'no_create_edit': True, 'no_open': True}"/>-->
<!--                                    <field name="product_ids" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True, 'no_open': True}"/>-->
<!--                                    <field name="project_type" options="{'no_create_edit': True, 'no_open': True}"/>-->
<!--                                    <field name="company_id" options="{'no_create_edit': True, 'no_open': True}"/>-->
<!--                                </group>-->
<!--                                <group>-->
<!--                                    <field name="product_principal" options="{'no_create_edit': True, 'no_open': True}"/>-->
<!--                                    <field name="project_principal" options="{'no_create_edit': True, 'no_open': True}"/>-->
<!--                                    <field name="test_principal" options="{'no_create_edit': True, 'no_open': True}"/>-->
<!--                                    <field name="release_principal" options="{'no_create_edit': True, 'no_open': True}"/>-->
<!--                                </group>-->
<!--                            </group>-->
<!--                        </page>-->
<!--                        <page string="模块列表">-->
<!--                            <field name="module_ids" nolabel="1">-->
<!--                                <tree editable="bottom">-->
<!--                                    <field name="sequence" widget="handle"/>-->
<!--                                    <field name="name" required="1"/>-->
<!--                                    <field name="code" required="1"/>-->
<!--                                    <field name="company_id" required="1"/>-->
<!--                                </tree>-->
<!--                            </field>-->
<!--                        </page>-->
<!--                    </notebook>-->
<!--                    <group string="描述">-->
<!--                        <field name="description" widget="html" nolabel="1"/>-->
<!--                    </group>-->
<!--                </sheet>-->
<!--                <div class="oe_chatter">-->
<!--                    <field name="message_follower_ids" widget="mail_followers"/>-->
<!--                    <field name="activity_ids" widget="mail_activity"/>-->
<!--                    <field name="message_ids" widget="mail_thread"/>-->
<!--                </div>-->
<!--            </form>-->
<!--        </field>-->
<!--    </record>-->

<!--    <record id="pms_project_project_kanban_view" model="ir.ui.view">-->
<!--        <field name="name">项目看板</field>-->
<!--        <field name="model">pms.project.project</field>-->
<!--        <field name="arch" type="xml">-->
<!--            <kanban class="oe_background_grey o_kanban_dashboard o_emphasize_colors o_project_project">-->
<!--                <field name="name"/>-->
<!--                <field name="code"/>-->
<!--                <field name="color"/>-->
<!--                <field name="start_date"/>-->
<!--                <field name="end_date"/>-->
<!--                <field name="team_id"/>-->
<!--                <field name="product_ids"/>-->
<!--                <field name="project_type"/>-->
<!--                <field name="state"/>-->
<!--                <field name="company_id"/>-->
<!--                <templates>-->
<!--                    <t t-name="kanban-box">-->
<!--                        <div t-attf-class="#{kanban_color(record.color.raw_value)} oe_kanban_global_click o_has_icon">-->
<!--                            <div>-->
<!--                                <div class="o_kanban_card_content">-->
<!--                                    <div class="o_kanban_primary_left">-->
<!--                                        <div class="o_primary">-->
<!--                                            <span>-->
<!--                                                <t t-esc="record.name.value"/>-->
<!--                                            </span>-->
<!--                                            <span t-if="record.state.value">-->
<!--                                                <strong>-->
<!--                                                    <t t-esc="record.state.value"/>-->
<!--                                                </strong>-->
<!--                                            </span>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="o_kanban_card_manage_pane dropdown-menu" groups="odoo_project.group_manage" role="menu">-->
<!--                                    <div class="o_kanban_card_manage_section o_kanban_manage_reports">-->
<!--                                        <div role="menuitem">-->
<!--                                            <a type="edit">编辑</a>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                    <div role="menuitem" aria-haspopup="true" class="o_no_padding_kanban_colorpicker">-->
<!--                                        <ul class="oe_kanban_colorpicker" data-field="color" role="popup"/>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <a class="o_kanban_manage_toggle_button o_left" href="#" groups="odoo_project.group_manage">-->
<!--                                    <i class="fa fa-ellipsis-v" role="img" aria-label="Manage" title="Manage"/>-->
<!--                                </a>-->
<!--                            </div>-->
<!--                            <div class="o_project_kanban_boxes">-->
<!--                                <a class="o_project_kanban_box btn btn-primary" role="button" name="open_task" type="object">-->
<!--                                    <div>-->
<!--                                        <span class="o_value">任务</span>-->
<!--                                    </div>-->
<!--                                </a>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </t>-->
<!--                </templates>-->
<!--            </kanban>-->
<!--        </field>-->
<!--    </record>-->

<!--    <record model="ir.actions.act_window" id="pms_project_project_action">-->
<!--        <field name="name">项目</field>-->
<!--        <field name="res_model">pms.project.project</field>-->
<!--        <field name="view_mode">kanban,tree,form</field>-->
<!--    </record>-->

<!--    <menuitem name="项目" id="pms_project_project_menu" parent="main_menu" sequence="7" action="pms_project_project_action"/>-->


<!--任务-->
<!--    <record id="pms_project_task_form_view" model="ir.ui.view">-->
<!--        <field name="name">项目任务</field>-->
<!--        <field name="model">pms.project.task</field>-->
<!--        <field name="arch" type="xml">-->
<!--            <form>-->
<!--                <header>-->
<!--                    <button name="%(pms_project_task_start_action)d" string="开始" type="action" class="oe_highlight"-->
<!--                            context="{'default_task_id': id}" attrs="{'invisible' : [('state', '!=', 'draft')]}"/>-->
<!--                </header>-->
<!--                <sheet>-->
<!--                    <div class="oe_button_box" name="button_box">-->
<!--                        <button class="oe_stat_button" icon="fa-tasks" type="object" name="action_open_parent_task"-->
<!--                                string="上级任务" attrs="{'invisible' : [('parent_id', '=', False)]}"/>-->
<!--                        <button name="action_subtask" type="object" class="oe_stat_button" icon="fa-tasks"-->
<!--                            attrs="{'invisible' : ['|', ('parent_id', '!=', False), ('id', '=', False)]}" context="{'default_parent_id': id}">-->
<!--                            <field string="子任务" name="subtask_count" widget="statinfo"/>-->
<!--                        </button>-->
<!--                        <button name="attachment_image_preview" type="object" class="oe_stat_button" icon="fa-file-word-o">-->
<!--                            <field name="attachment_number" widget="statinfo"/>-->
<!--                        </button>-->
<!--                    </div>-->
<!--                    <div class="oe_title" name="title">-->
<!--                        <label for="name" class="oe_edit_only"/>-->
<!--                        <h2>-->
<!--                            <field name="name" required="1" attrs="{'readonly' : [('state', '!=', 'draft')]}" placeholder="任务名称"/>-->
<!--                        </h2>-->
<!--                    </div>-->
<!--                    <group col="2">-->
<!--                        <group>-->
<!--                            <field name="code" readonly="1" placeholder="保存后生成"/>-->
<!--                            <field name="project_id" options="{'no_create': True, 'no_open': True}" attrs="{'readonly' : [('state', '!=', 'draft')]}"/>-->
<!--                            <field name="module_id" options="{'no_create': True, 'no_open': True}" attrs="{'readonly' : [('state', '!=', 'draft')]}"/>-->
<!--                            <field name="product_ids" invisible="1"/>-->
<!--                        </group>-->
<!--                    </group>-->
<!--                    <notebook>-->
<!--                        <page string="任务详情">-->
<!--                           <group col="2">-->
<!--                                <group>-->
<!--                                    <field name="type_id" options="{'color_field': 'color', 'no_create': True, 'no_open': True}" attrs="{'readonly' : [('state', '!=', 'draft')]}"/>-->
<!--                                    <field name="assign_user" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True}"-->
<!--                                           attrs="{'readonly' : [('state', '!=', 'draft')]}"/>-->
<!--                                    <field name="demand_id" options="{'no_create': True, 'no_open': True}" attrs="{'readonly' : [('state', '!=', 'draft')]}"/>-->
<!--                                    <field name="priority" attrs="{'readonly' : [('state', '!=', 'draft')]}"/>-->
<!--                                    <field name="expected_hour" attrs="{'readonly' : [('state', '!=', 'draft')]}"/>-->
<!--                                </group>-->
<!--                                <group>-->
<!--                                    <field name="state" readonly="1"/>-->
<!--                                    <field name="actual_completion_date" readonly="1"/>-->
<!--                                    <field name="completion_user" options="{'no_create': True, 'no_open': True}" attrs="{'readonly' : [('state', '!=', 'draft')]}"/>-->
<!--                                    <field name="start_date" widget="date" attrs="{'readonly' : [('state', '!=', 'draft')]}"/>-->
<!--                                    <field name="actual_start_date" widget="date" readonly="1"/>-->
<!--                                    <field name="end_date" widget="date" attrs="{'readonly' : [('state', '!=', 'draft')]}"/>-->
<!--                                </group>-->
<!--                            </group>-->
<!--                            <group string="任务描述">-->
<!--                                <field name="task_description" nolabel="1" widget="html" attrs="{'readonly' : [('state', '!=', 'draft')]}"/>-->
<!--                            </group>-->
<!--                        </page>-->
<!--                        <page string="任务工时">-->
<!--                            <field name="line_ids" nolabel="1" attrs="{'readonly' : [('state', '!=', 'draft')]}">-->
<!--                                <tree editable="bottom">-->
<!--                                    <field name="sequence" widget="handle"/>-->
<!--                                    <field name="user_id" required="1" options="{'no_create': True, 'no_open': True}"/>-->
<!--                                    <field name="user_date" required="1"/>-->
<!--                                    <field name="sum_hour" required="1"/>-->
<!--                                    <field name="sy_hour" required="1"/>-->
<!--                                    <field name="description"/>-->
<!--                                </tree>-->
<!--                            </field>-->
<!--                        </page>-->
<!--                        <page string="额外">-->
<!--                            <group>-->
<!--                                <group>-->
<!--                                    <field name="parent_id" attrs="{'readonly' : [('state', '!=', 'draft')]}" options="{'color_field': 'color', 'no_create_edit': True}"/>-->
<!--                                </group>-->
<!--                                <group>-->
<!--                                    <field name="company_id" attrs="{'readonly' : [('state', '!=', 'draft')]}" options="{'color_field': 'color', 'no_create_edit': True}"/>-->
<!--                                </group>-->
<!--                            </group>-->
<!--                        </page>-->
<!--                    </notebook>-->
<!--                    <group string="备注">-->
<!--                        <field name="description" nolabel="1" placeholder="请填写备注"/>-->
<!--                    </group>-->
<!--                </sheet>-->
<!--                <div class="oe_chatter">-->
<!--                    <field name="message_follower_ids" widget="mail_followers"/>-->
<!--                    <field name="activity_ids" widget="mail_activity"/>-->
<!--                    <field name="message_ids" widget="mail_thread"/>-->
<!--                </div>-->
<!--            </form>-->
<!--        </field>-->
<!--    </record>-->




</odoo>